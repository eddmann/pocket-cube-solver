(this["webpackJsonppocket-cube-solver-client"]=this["webpackJsonppocket-cube-solver-client"]||[]).push([[0],{19:function(e,t,n){e.exports={Canvas:"App_Canvas__15Nu5",Actions:"App_Actions__2exsc",Solution:"App_Solution__3shAa",Move:"App_Move__1PhE9",ActiveMove:"App_ActiveMove__1IpDk"}},30:function(e,t,n){"use strict";(function(e){var r=n(9),a=n(11),o=n(5),c=n(14),i=n(31),s=n(35),u=n(19),l=n.n(u),p=n(7),d="WWWWOOOOGGGGRRRRYYYYBBBB",f=function(e){var t=e.state,n=e.onStateChange,r=e.onRandom,a=e.onSolve;return Object(p.jsxs)("div",{className:l.a.Actions,children:[Object(p.jsx)("input",{size:40,type:"text",value:(t.match(/.{1,4}/g)||[]).join(" "),onChange:function(e){return n(e.target.value.toUpperCase().replace(/[^WOGRYB]/g,""))}}),Object(p.jsx)("button",{onClick:r,children:"Random"}),Object(p.jsx)("button",{onClick:a,children:"Solve"})]})},v=function(e){var t=e.solution,n=e.solutionIdx,a=e.isAutoPlay,o=e.onMoveSelection,c=e.onAutoPlay;return 0===t.length?null:Object(p.jsxs)("div",{className:l.a.Solution,children:[t.map((function(e,t){var a=Object(r.a)(e,1)[0];return Object(p.jsx)("span",{className:n===t?l.a.ActiveMove:l.a.Move,onClick:function(){return o(t)},children:a},t)})),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",onChange:function(){return c(!a)},checked:a}),"Auto Play"]})]})};t.a=function(t){var n=t.solver,u=Object(o.useRef)(),b=Object(o.useState)(d),j=Object(r.a)(b,2),h=j[0],O=j[1],m=Object(o.useState)([]),y=Object(r.a)(m,2),P=y[0],w=y[1],x=Object(o.useState)(0),g=Object(r.a)(x,2),M=g[0],V=g[1],N=Object(o.useState)(!0),R=Object(r.a)(N,2),S=R[0],I=R[1];Object(o.useEffect)((function(){if(u.current&&P[M]&&S){var e=Object(r.a)(P[M],3),t=e[0],n=e[2];if("\ud83c\udf89"!==t){var a=!0;return u.current.rotate(t).then((function(){a?(O(n),M+1<P.length&&V(M+1)):u.current.reset()})),function(){a=!1}}}}),[P,M,S]);return Object(p.jsxs)("div",{children:[Object(p.jsx)("header",{children:Object(p.jsx)("h1",{children:"Pocket Cube Solver"})}),Object(p.jsx)(f,{state:h,onStateChange:O,onRandom:function(){O(n.rand_cube()),w([]),V(0)},onSolve:function(){(function(e,t){try{var n=e.solve_cube(t);return Promise.resolve([].concat(Object(a.a)(n.map((function(r,a){return[r,e.apply_cube_moves(t,n.slice(0,a)),e.apply_cube_moves(t,n.slice(0,a+1))]}))),[["\ud83c\udf89",d,d]]))}catch(r){return Promise.reject(r)}})(n,h).then((function(e){w(e),V(0),I(!0)})).catch((function(t){e.alert(t)}))}}),Object(p.jsxs)(c.a,{className:l.a.Canvas,camera:{position:[4,4,5]},gl:{antialias:!0},children:[Object(p.jsx)(i.a,{}),Object(p.jsx)(s.a,{ref:u,state:h})]}),Object(p.jsx)(v,{solution:P,solutionIdx:M,isAutoPlay:S,onMoveSelection:function(e){var t=Object(r.a)(P[e],2)[1];O(t),V(e)},onAutoPlay:I})]})}}).call(this,n(40))},31:function(e,t,n){"use strict";var r=n(5),a=n(14),o=n(34),c=n(7);Object(a.b)({OrbitControls:o.a});t.a=function(){var e=Object(a.d)(),t=e.camera,n=e.gl,o=Object(r.useRef)();return Object(a.c)((function(){var e;return null===(e=o.current)||void 0===e?void 0:e.update()})),Object(c.jsx)("orbitControls",{ref:o,args:[t,n.domElement],enableDamping:!0,dampingFactor:.25,enableZoom:!0,enableKeys:!1,enablePan:!1,minDistance:4,maxDistance:4})}},35:function(e,t,n){"use strict";var r=n(9),a=n(5),o=n.n(a),c=n(14),i=n(4),s=n(6),u=n(12),l=n(7),p=1e-5,d=function(e){var t=e.width,n=void 0===t?.88:t,r=e.height,c=void 0===r?.88:r,s=e.radius,u=void 0===s?0:s,d=e.type,f=e.inverse,v=e.colour,b=Object(a.useMemo)((function(){return function(e,t,n){var r=new i.Shape,a=n-p;return r.absarc(p,p,p,-Math.PI/2,-Math.PI,!0),r.absarc(p,t-2*a,p,Math.PI,Math.PI/2,!0),r.absarc(e-2*a,t-2*a,p,Math.PI/2,0,!0),r.absarc(e-2*a,p,p,0,-Math.PI/2,!0),r}(n,c,u)}),[n,c,u]),j=0,h=0,O=new i.Vector3(0,0,0);switch(d){case"side":j=(f?-1:1)*(Math.PI/2),O.setX(f?-.5:.5);break;case"top":h=(f?1:-1)*(Math.PI/2),O.setY(f?-.5:.5);break;case"front":j=Math.PI,O.setZ(f?-.5:.5)}var m=Object(a.useRef)(),y=Object(a.useRef)();return o.a.useLayoutEffect((function(){var e,t,n;null===(e=m.current)||void 0===e||e.rotateX(h),null===(t=m.current)||void 0===t||t.rotateY(j),null===(n=y.current)||void 0===n||n.center()}),[j,h]),Object(l.jsxs)("mesh",{ref:m,position:O,children:[Object(l.jsx)("meshBasicMaterial",{color:v,side:i.DoubleSide,polygonOffset:!0,transparent:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-4}),Object(l.jsx)("shapeBufferGeometry",{ref:y,attach:"geometry",args:[b,5]})]})},f=1e-5,v=Object(a.forwardRef)((function(e,t){var n=e.args;n=void 0===n?[]:n;var a=Object(r.a)(n,3),c=a[0],p=void 0===c?1:c,d=a[1],v=void 0===d?1:d,b=a[2],j=void 0===b?1:b,h=e.radius,O=void 0===h?.05:h,m=e.smoothness,y=void 0===m?4:m,P=e.children,w=Object(u.a)(e,["args","radius","smoothness","children"]),x=o.a.useMemo((function(){return function(e,t,n){var r=new i.Shape,a=n-f;return r.absarc(f,f,f,-Math.PI/2,-Math.PI,!0),r.absarc(f,t-2*a,f,Math.PI,Math.PI/2,!0),r.absarc(e-2*a,t-2*a,f,Math.PI/2,0,!0),r.absarc(e-2*a,f,f,0,-Math.PI/2,!0),r}(p,v,O)}),[p,v,O]),g=o.a.useMemo((function(){return{depth:j-2*O,bevelEnabled:!0,bevelSegments:2*y,steps:1,bevelSize:O-f,bevelThickness:O,curveSegments:y}}),[j,O,y]),M=o.a.useRef();return o.a.useLayoutEffect((function(){M.current&&M.current.center()}),[x,g]),Object(l.jsxs)("mesh",Object(s.a)(Object(s.a)({ref:t},w),{},{children:[Object(l.jsx)("extrudeBufferGeometry",{attach:"geometry",ref:M,args:[x,g]}),P]}))})),b=Object(a.forwardRef)((function(e,t){var n=e.position,r=e.sideColour,a=e.topColour,o=e.frontColour;return Object(l.jsxs)(v,{ref:t,args:[1,1,1],radius:.08,smoothness:5,position:n,userData:{position:n},children:[Object(l.jsx)("meshBasicMaterial",{color:0}),Object(l.jsx)(d,{type:"side",inverse:n.x<0,colour:r}),Object(l.jsx)(d,{type:"top",inverse:n.y<0,colour:a}),Object(l.jsx)(d,{type:"front",inverse:n.z<0,colour:o})]})})),j=[{displayName:"F",plane:0,direction:-1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,0,1)},{displayName:"F'",plane:0,direction:1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,0,1)},{displayName:"B",plane:1,direction:-1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,0,1)},{displayName:"B'",plane:1,direction:1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,0,1)},{displayName:"U",plane:2,direction:-1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,1,0)},{displayName:"U'",plane:2,direction:1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,1,0)},{displayName:"D",plane:3,direction:-1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,1,0)},{displayName:"D'",plane:3,direction:1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(0,1,0)},{displayName:"L",plane:4,direction:-1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(1,0,0)},{displayName:"L'",plane:4,direction:1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(1,0,0)},{displayName:"R",plane:5,direction:-1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(1,0,0)},{displayName:"R'",plane:5,direction:1,layers:1,quarterTurns:1,pivotPoint:new i.Vector3(1,0,0)},{displayName:"F2",plane:0,direction:1,layers:1,quarterTurns:2,pivotPoint:new i.Vector3(0,0,1)},{displayName:"B2",plane:1,direction:1,layers:1,quarterTurns:2,pivotPoint:new i.Vector3(0,0,1)},{displayName:"U2",plane:2,direction:1,layers:1,quarterTurns:2,pivotPoint:new i.Vector3(0,1,0)},{displayName:"D2",plane:3,direction:1,layers:1,quarterTurns:2,pivotPoint:new i.Vector3(0,1,0)},{displayName:"L2",plane:4,direction:1,layers:1,quarterTurns:2,pivotPoint:new i.Vector3(1,0,0)},{displayName:"R2",plane:5,direction:1,layers:1,quarterTurns:2,pivotPoint:new i.Vector3(1,0,0)}],h=[{id:0,name:"F",center:[0,0,.5]},{id:1,name:"B",center:[0,0,-.5]},{id:2,name:"U",center:[0,.5,0]},{id:3,name:"D",center:[0,.5,0]},{id:4,name:"L",center:[-.5,0,0]},{id:5,name:"R",center:[.5,0,0]}],O=function(e,t,n){var r=[];function a(e,t,n){switch(n){case-1:return 0===e||0===t;case 1:return 0===e||e===t;case 2:return 0===e||e===t||0===t;case 3:return!0}}var o=h[t].center;return e.forEach((function(e){var t=e.userData.position;(function(e,t,n,r){return a(o[0],e,r)&&a(o[1],t,r)&&a(o[2],n,r)})(t.x,t.y,t.z,n)&&r.push(e)})),r},m=function(e,t,n){var r=j.find((function(e){return e.displayName===t}));if(!r)throw new Error;var a=r.plane,o=r.direction,c=r.layers,i=r.quarterTurns,s=r.pivotPoint,u=i*Math.PI/2,l=u,p=O(e,a,c);return{step:function(){if(l<=0)return!1;var e=.05*i*n,t=(1.1-Math.pow((2*l-u)/u,2))*e;return l-=t,p.forEach((function(e){e.position.applyAxisAngle(s,t*o),e.rotateOnAxis(s,t*o)})),!0}}},y=[new i.Vector3(-.5,-.5,-.5),new i.Vector3(-.5,-.5,.5),new i.Vector3(-.5,.5,-.5),new i.Vector3(-.5,.5,.5),new i.Vector3(.5,-.5,-.5),new i.Vector3(.5,-.5,.5),new i.Vector3(.5,.5,-.5),new i.Vector3(.5,.5,.5)],P=[7,19,22,10,6,9,3,0,11,23,17,5,21,18,12,15,4,16,13,1,20,8,2,14],w={W:"white",O:"orange",G:"green",R:"red",Y:"yellow",B:"blue"},x=Object(a.forwardRef)((function(e,t){var n=e.state,o=Object(a.useRef)([]),i=Object(a.useRef)(),s=n.padEnd(24,"W"),u=s.split("").reduce((function(e,t,n){return e[P[n]]=w[t],e}),[]);Object(c.c)((function(){if(i.current){var e=Object(r.a)(i.current,2),t=e[0],n=e[1];t.step()||(n(),i.current=void 0)}}));var p=function(e){return new Promise((function(t){i.current=[m(o.current,e,1),t]}))},d=function(){o.current.forEach((function(e){e.position.copy(e.userData.position),e.rotation.set(0,0,0)}))};return Object(a.useLayoutEffect)(d,[s]),Object(a.useImperativeHandle)(t,(function(){return{reset:d,rotate:p}})),Object(l.jsx)("group",{ref:t,children:y.map((function(e,t){var n=3*t,a=u.slice(n,n+3),c=Object(r.a)(a,3),i=c[0],s=c[1],p=c[2];return Object(l.jsx)(b,{ref:function(e){return o.current[t]=e},position:e,sideColour:i,topColour:s,frontColour:p},t)}))})}));t.a=x},36:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),o=n(29),c=n.n(o),i=n(30),s=(n(45),n(7));n.e(3).then(n.bind(null,46)).then((function(e){c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(i.a,{solver:e})}),document.getElementById("root"))}))},45:function(e,t,n){}},[[36,1,2]]]);
//# sourceMappingURL=main.4c045743.chunk.js.map