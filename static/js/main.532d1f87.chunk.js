(this["webpackJsonppocket-cube-solver-client"]=this["webpackJsonppocket-cube-solver-client"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var o=n(4),r={W:"#f7f5f5",O:"orange",G:"green",R:"red",Y:"yellow",B:"blue"},c="WWWWOOOOGGGGRRRRYYYYBBBB",a={DLB:new o.Vector3(-.5,-.5,-.5),DLF:new o.Vector3(-.5,-.5,.5),ULB:new o.Vector3(-.5,.5,-.5),ULF:new o.Vector3(-.5,.5,.5),DRB:new o.Vector3(.5,-.5,-.5),DRF:new o.Vector3(.5,-.5,.5),URB:new o.Vector3(.5,.5,-.5),URF:new o.Vector3(.5,.5,.5)},i=[7,19,22,10,6,9,3,0,11,23,17,5,21,18,12,15,4,16,13,1,20,8,2,14]},15:function(e,t,n){e.exports={Actions:"App_Actions__2k3r2",Canvas:"App_Canvas__3gPKS",Solution:"App_Solution__2FVnF",Move:"App_Move__3i-Yo",MoveActive:"App_MoveActive__wA1bn"}},33:function(e,t,n){"use strict";(function(e){var o=n(9),r=n(10),c=n(5),a=n(16),i=n(4),s=n(34),u=n(38),l=n(39),f=n(41),b=n(15),j=n.n(b),v=n(12),d=n(7);t.a=function(t){var n=t.solver,b=Object(c.useRef)(),p=Object(c.useState)(v.d),O=Object(o.a)(p,2),h=O[0],m=O[1],x=Object(c.useState)([]),g=Object(o.a)(x,2),R=g[0],M=g[1],w=Object(c.useState)(0),y=Object(o.a)(w,2),S=y[0],B=y[1],P=Object(c.useState)(!0),D=Object(o.a)(P,2),C=D[0],F=D[1];Object(c.useEffect)((function(){if(b.current&&R[S]&&C){var e=R[S],t=e.move,n=e.startState,o=e.endState;if(n!==v.d){var r=!0;return b.current.rotate(t).then((function(){r?(m(o),S+1<R.length&&B(S+1)):b.current.reset()})),function(){r=!1}}}}),[R,S,C]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{children:"Pocket Cube Solver"})}),Object(d.jsx)(u.a,{state:h,onStateChange:m,onRandom:function(){m(n.rand_cube()),M([]),B(0)},onSolve:function(){(function(e,t){try{var n=e.solve_cube(t);return Promise.resolve([].concat(Object(r.a)(n.map((function(o,r){return{move:o,startState:e.apply_cube_moves(t,n.slice(0,r)),endState:e.apply_cube_moves(t,n.slice(0,r+1))}}))),[{move:"\ud83c\udf89",startState:v.d,endState:v.d}]))}catch(o){return Promise.reject(o)}})(n,h).then((function(e){M(e),B(0),F(!0)})).catch((function(t){e.alert(t)}))}}),Object(d.jsxs)(a.a,{onCreated:function(e){e.gl.toneMapping=i.NoToneMapping},className:j.a.Canvas,camera:{position:[4,4,5]},gl:{antialias:!0},children:[Object(d.jsx)(s.a,{}),Object(d.jsx)(f.a,{ref:b,state:h})]}),Object(d.jsx)(l.a,{solution:R,solutionIdx:S,isAutoPlay:C,onMoveSelection:function(e){var t=R[e].startState;m(t),B(e)},onAutoPlay:F})]})}}).call(this,n(30))},34:function(e,t,n){"use strict";var o=n(5),r=n(16),c=n(37),a=n(7);Object(r.b)({OrbitControls:c.a});t.a=function(){var e=Object(r.d)(),t=e.camera,n=e.gl,c=Object(o.useRef)();return Object(r.c)((function(){var e;return null===(e=c.current)||void 0===e?void 0:e.update()})),Object(a.jsx)("orbitControls",{ref:c,args:[t,n.domElement],enableDamping:!0,dampingFactor:.25,enableZoom:!0,enableKeys:!1,enablePan:!1,minDistance:4,maxDistance:4})}},38:function(e,t,n){"use strict";n(5);var o=n(12),r=n(15),c=n.n(r),a=n(7);t.a=function(e){var t=e.state,n=e.onStateChange,r=e.onRandom,i=e.onSolve,s=new RegExp("[^".concat(Object.keys(o.a).join(""),"]"),"g");return Object(a.jsxs)("div",{className:c.a.Actions,children:[Object(a.jsx)("input",{size:40,type:"text",value:(t.match(/.{1,4}/g)||[]).join(" "),onChange:function(e){return n(e.target.value.toUpperCase().replace(s,""))}}),Object(a.jsx)("button",{onClick:r,children:"Random"}),Object(a.jsx)("button",{onClick:i,children:"Solve"})]})}},39:function(e,t,n){"use strict";n(5);var o=n(15),r=n.n(o),c=n(7);t.a=function(e){var t=e.solution,n=e.solutionIdx,o=e.isAutoPlay,a=e.onMoveSelection,i=e.onAutoPlay;return 0===t.length?null:Object(c.jsxs)("div",{className:r.a.Solution,children:[t.map((function(e,t){var o=e.move;return Object(c.jsx)("span",{className:n===t?r.a.MoveActive:r.a.Move,onClick:function(){return a(t)},children:o},t)})),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",onChange:function(){return i(!o)},checked:o}),"Auto Play"]})]})}},41:function(e,t,n){"use strict";var o=n(9),r=n(10),c=n(5),a=n.n(c),i=n(16),s=n(40),u=n(6),l=n(13),f=n(4),b=n(7),j=1e-5,v=function(e){var t=e.width,n=void 0===t?.88:t,o=e.height,r=void 0===o?.88:o,i=e.radius,s=void 0===i?0:i,u=e.type,l=e.inverse,v=e.colour,d=Object(c.useRef)(),p=Object(c.useRef)(),O=Object(c.useMemo)((function(){return function(e,t,n){var o=new f.Shape,r=n-j;return o.absarc(j,j,j,-Math.PI/2,-Math.PI,!0),o.absarc(j,t-2*r,j,Math.PI,Math.PI/2,!0),o.absarc(e-2*r,t-2*r,j,Math.PI/2,0,!0),o.absarc(e-2*r,j,j,0,-Math.PI/2,!0),o}(n,r,s)}),[n,r,s]),h=function(e,t){switch(e){case"side":return{rotX:0,rotY:(t?-1:1)*(Math.PI/2),position:new f.Vector3(t?-.5:.5,0,0)};case"top":return{rotX:(t?1:-1)*(Math.PI/2),rotY:0,position:new f.Vector3(0,t?-.5:.5,0)};case"front":return{rotX:0,rotY:Math.PI,position:new f.Vector3(0,0,t?-.5:.5)}}}(u,l),m=h.rotX,x=h.rotY,g=h.position;return a.a.useLayoutEffect((function(){var e,t,n;null===(e=d.current)||void 0===e||e.rotateX(m),null===(t=d.current)||void 0===t||t.rotateY(x),null===(n=p.current)||void 0===n||n.center()}),[x,m]),Object(b.jsxs)("mesh",{ref:d,position:g,children:[Object(b.jsx)("meshBasicMaterial",{color:v,side:f.DoubleSide,polygonOffset:!0,transparent:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-4}),Object(b.jsx)("shapeBufferGeometry",{ref:p,attach:"geometry",args:[O,5]})]})},d=1e-5,p=Object(c.forwardRef)((function(e,t){var n=e.args;n=void 0===n?[]:n;var r=Object(o.a)(n,3),c=r[0],i=void 0===c?1:c,s=r[1],j=void 0===s?1:s,v=r[2],p=void 0===v?1:v,O=e.radius,h=void 0===O?.05:O,m=e.smoothness,x=void 0===m?4:m,g=e.children,R=Object(l.a)(e,["args","radius","smoothness","children"]),M=a.a.useMemo((function(){return function(e,t,n){var o=new f.Shape,r=n-d;return o.absarc(d,d,d,-Math.PI/2,-Math.PI,!0),o.absarc(d,t-2*r,d,Math.PI,Math.PI/2,!0),o.absarc(e-2*r,t-2*r,d,Math.PI/2,0,!0),o.absarc(e-2*r,d,d,0,-Math.PI/2,!0),o}(i,j,h)}),[i,j,h]),w=a.a.useMemo((function(){return{depth:p-2*h,bevelEnabled:!0,bevelSegments:2*x,steps:1,bevelSize:h-d,bevelThickness:h,curveSegments:x}}),[p,h,x]),y=a.a.useRef();return a.a.useLayoutEffect((function(){y.current&&y.current.center()}),[M,w]),Object(b.jsxs)("mesh",Object(u.a)(Object(u.a)({ref:t},R),{},{children:[Object(b.jsx)("extrudeBufferGeometry",{attach:"geometry",ref:y,args:[M,w]}),g]}))})),O=Object(c.forwardRef)((function(e,t){var n=e.name,o=e.position,r=e.sideColour,c=e.topColour,a=e.frontColour;return Object(b.jsxs)(p,{ref:t,args:[1,1,1],radius:.08,smoothness:5,position:o,userData:{name:n,position:o},children:[Object(b.jsx)("meshBasicMaterial",{color:0}),Object(b.jsx)(v,{type:"side",inverse:o.x<0,colour:r}),Object(b.jsx)(v,{type:"top",inverse:o.y<0,colour:c}),Object(b.jsx)(v,{type:"front",inverse:o.z<0,colour:a})]})})),h={F:{positions:["ULF","URF","DLF","DRF"],axis:new f.Vector3(0,0,1)},B:{positions:["URB","ULB","DRB","DLB"],axis:new f.Vector3(0,0,1)},R:{positions:["URF","URB","DRF","DRB"],axis:new f.Vector3(1,0,0)},L:{positions:["ULB","ULF","DLB","DLF"],axis:new f.Vector3(1,0,0)},U:{positions:["ULB","URB","ULF","URF"],axis:new f.Vector3(0,1,0)},D:{positions:["DLF","DRF","DLB","DRB"],axis:new f.Vector3(0,1,0)}},m=function(e,t,n){var r=t.split("",2),c=Object(o.a)(r,2),a=c[0],i=c[1],s=h[a],u=s.positions,l=s.axis,f="'"===i?1:-1,b="2"===i?2:1,j=e.filter((function(e){return u.includes(e.userData.name)})),v=.05*b*n,d=b*Math.PI/2,p=d;return function(){if(p<=0)return!1;var e=(1.1-Math.pow((2*p-d)/d,2))*v;return p-=e,j.forEach((function(t){t.position.applyAxisAngle(l,e*f),t.rotateOnAxis(l,e*f)})),!0}},x=n(12),g=Object(c.forwardRef)((function(e,t){var n=e.state,a=Object(c.useRef)([]),u=Object(c.useRef)(),l=n.padEnd(24,"W");Object(i.c)((function(){if(u.current){var e=Object(o.a)(u.current,2),t=e[0],n=e[1];t()||(n(),u.current=void 0)}}));var f=function(e){return new Promise((function(t){u.current=[m(a.current,e,1),t]}))},j=function(){a.current.forEach((function(e){e.position.copy(e.userData.position),e.rotation.set(0,0,0)}))};Object(c.useLayoutEffect)(j,[l]),Object(c.useImperativeHandle)(t,(function(){return{reset:j,rotate:f}}));var v=function(e){return Object(s.chunk)(Object(r.a)(e).reduce((function(e,t,n){return e[x.b[n]]=x.a[t],e}),[]),3)}(l);return Object(b.jsx)("group",{ref:t,children:Object.entries(x.c).map((function(e,t){var n=Object(o.a)(e,2),r=n[0],c=n[1],i=Object(o.a)(v[t],3),s=i[0],u=i[1],l=i[2];return Object(b.jsx)(O,{ref:function(e){return a.current[t]=e},name:r,position:c,sideColour:s,topColour:u,frontColour:l},r)}))})}));t.a=g},42:function(e,t,n){"use strict";n.r(t);var o=n(5),r=n.n(o),c=n(32),a=n.n(c),i=n(33),s=(n(49),n(7));n.e(3).then(n.bind(null,50)).then((function(e){a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(i.a,{solver:e})}),document.getElementById("root"))}))},49:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.532d1f87.chunk.js.map