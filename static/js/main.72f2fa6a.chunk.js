(this["webpackJsonppocket-cube-solver-client"]=this["webpackJsonppocket-cube-solver-client"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(4),o={W:"#f7f5f5",O:"orange",G:"green",R:"red",Y:"yellow",B:"blue"},c="WWWWOOOOGGGGRRRRYYYYBBBB",a={DLB:new r.Vector3(-.5,-.5,-.5),DLF:new r.Vector3(-.5,-.5,.5),ULB:new r.Vector3(-.5,.5,-.5),ULF:new r.Vector3(-.5,.5,.5),DRB:new r.Vector3(.5,-.5,-.5),DRF:new r.Vector3(.5,-.5,.5),URB:new r.Vector3(.5,.5,-.5),URF:new r.Vector3(.5,.5,.5)},i=[7,19,22,10,6,9,3,0,11,23,17,5,21,18,12,15,4,16,13,1,20,8,2,14]},15:function(e,t,n){e.exports={Actions:"App_Actions__2k3r2",Canvas:"App_Canvas__3gPKS",Solution:"App_Solution__2FVnF",Move:"App_Move__3i-Yo",MoveActive:"App_MoveActive__wA1bn"}},33:function(e,t,n){"use strict";(function(e){var r=n(9),o=n(10),c=n(5),a=n(16),i=n(4),s=n(34),u=n(38),l=n(39),f=n(41),b=n(15),j=n.n(b),v=n(12),d=n(7);t.a=function(t){var n=t.solver,b=Object(c.useRef)(),O=Object(c.useState)(v.d),p=Object(r.a)(O,2),h=p[0],x=p[1],m=Object(c.useState)([]),g=Object(r.a)(m,2),R=g[0],M=g[1],w=Object(c.useState)(0),y=Object(r.a)(w,2),S=y[0],P=y[1],B=Object(c.useState)(!0),D=Object(r.a)(B,2),C=D[0],F=D[1];Object(c.useEffect)((function(){if(b.current&&R[S]&&C){var e=R[S],t=e.move,n=e.startState,r=e.endState;if(n!==v.d){var o=!0;return b.current.rotate(t).then((function(){o?(x(r),S+1<R.length&&P(S+1)):b.current.reset()})),function(){o=!1}}}}),[R,S,C]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{children:"Pocket Cube Solver"})}),Object(d.jsx)(u.a,{state:h,onStateChange:x,onRandom:function(){x(n.rand_cube()),M([]),P(0)},onSolve:function(){(function(e,t){try{var n=e.solve_cube(t);return Promise.resolve([].concat(Object(o.a)(n.map((function(r,o){return{move:r,startState:e.apply_cube_moves(t,n.slice(0,o)),endState:e.apply_cube_moves(t,n.slice(0,o+1))}}))),[{move:"\ud83c\udf89",startState:v.d,endState:v.d}]))}catch(r){return Promise.reject(r)}})(n,h).then((function(e){M(e),P(0),F(!0)})).catch((function(t){e.alert(t)}))}}),Object(d.jsxs)(a.a,{onCreated:function(e){e.gl.toneMapping=i.NoToneMapping},className:j.a.Canvas,camera:{position:[4,4,5]},gl:{antialias:!0},children:[Object(d.jsx)(s.a,{}),Object(d.jsx)(f.a,{ref:b,state:h})]}),Object(d.jsx)(l.a,{solution:R,solutionIdx:S,isAutoPlay:C,onMoveSelection:function(e){var t=R[e].startState;x(t),P(e)},onAutoPlay:F})]})}}).call(this,n(30))},34:function(e,t,n){"use strict";var r=n(5),o=n(16),c=n(37),a=n(7);Object(o.b)({OrbitControls:c.a});t.a=function(){var e=Object(o.d)(),t=e.camera,n=e.gl,c=Object(r.useRef)();return Object(o.c)((function(){var e;return null===(e=c.current)||void 0===e?void 0:e.update()})),Object(a.jsx)("orbitControls",{ref:c,args:[t,n.domElement],enableDamping:!0,dampingFactor:.25,enableZoom:!0,enableKeys:!1,enablePan:!1,minDistance:4,maxDistance:4})}},38:function(e,t,n){"use strict";n(5);var r=n(12),o=n(15),c=n.n(o),a=n(7);t.a=function(e){var t=e.state,n=e.onStateChange,o=e.onRandom,i=e.onSolve,s=new RegExp("[^".concat(Object.keys(r.a).join(""),"]"),"g");return Object(a.jsxs)("div",{className:c.a.Actions,children:[Object(a.jsx)("input",{size:40,type:"text",value:(t.match(/.{1,4}/g)||[]).join(" "),onChange:function(e){return n(e.target.value.toUpperCase().replace(s,""))}}),Object(a.jsx)("button",{onClick:o,children:"Random"}),Object(a.jsx)("button",{onClick:i,children:"Solve"})]})}},39:function(e,t,n){"use strict";n(5);var r=n(15),o=n.n(r),c=n(7);t.a=function(e){var t=e.solution,n=e.solutionIdx,r=e.isAutoPlay,a=e.onMoveSelection,i=e.onAutoPlay;return 0===t.length?null:Object(c.jsxs)("div",{className:o.a.Solution,children:[t.map((function(e,t){var r=e.move;return Object(c.jsx)("span",{className:n===t?o.a.MoveActive:o.a.Move,onClick:function(){return a(t)},children:r},t)})),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",onChange:function(){return i(!r)},checked:r}),"Auto Play"]})]})}},41:function(e,t,n){"use strict";var r=n(9),o=n(10),c=n(5),a=n.n(c),i=n(16),s=n(40),u=n(6),l=n(13),f=n(4),b=n(7),j=1e-5,v=function(e){var t=e.width,n=void 0===t?.88:t,r=e.height,o=void 0===r?.88:r,i=e.radius,s=void 0===i?0:i,u=e.axis,l=e.inverse,v=e.colour,d=Object(c.useRef)(),O=Object(c.useRef)(),p=Object(c.useMemo)((function(){return function(e,t,n){var r=new f.Shape,o=n-j;return r.absarc(j,j,j,-Math.PI/2,-Math.PI,!0),r.absarc(j,t-2*o,j,Math.PI,Math.PI/2,!0),r.absarc(e-2*o,t-2*o,j,Math.PI/2,0,!0),r.absarc(e-2*o,j,j,0,-Math.PI/2,!0),r}(n,o,s)}),[n,o,s]),h=function(e,t){switch(e){case"y":return{rotX:0,rotY:(t?-1:1)*(Math.PI/2),position:new f.Vector3(t?-.5:.5,0,0)};case"x":return{rotX:(t?1:-1)*(Math.PI/2),rotY:0,position:new f.Vector3(0,t?-.5:.5,0)};case"z":return{rotX:0,rotY:Math.PI,position:new f.Vector3(0,0,t?-.5:.5)}}}(u,l),x=h.rotX,m=h.rotY,g=h.position;return a.a.useLayoutEffect((function(){var e,t,n;null===(e=d.current)||void 0===e||e.rotateX(x),null===(t=d.current)||void 0===t||t.rotateY(m),null===(n=O.current)||void 0===n||n.center()}),[m,x]),Object(b.jsxs)("mesh",{ref:d,position:g,children:[Object(b.jsx)("meshBasicMaterial",{color:v,side:f.DoubleSide,polygonOffset:!0,transparent:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-4}),Object(b.jsx)("shapeBufferGeometry",{ref:O,attach:"geometry",args:[p,5]})]})},d=1e-5,O=Object(c.forwardRef)((function(e,t){var n=e.args;n=void 0===n?[]:n;var o=Object(r.a)(n,3),c=o[0],i=void 0===c?1:c,s=o[1],j=void 0===s?1:s,v=o[2],O=void 0===v?1:v,p=e.radius,h=void 0===p?.05:p,x=e.smoothness,m=void 0===x?4:x,g=e.children,R=Object(l.a)(e,["args","radius","smoothness","children"]),M=a.a.useMemo((function(){return function(e,t,n){var r=new f.Shape,o=n-d;return r.absarc(d,d,d,-Math.PI/2,-Math.PI,!0),r.absarc(d,t-2*o,d,Math.PI,Math.PI/2,!0),r.absarc(e-2*o,t-2*o,d,Math.PI/2,0,!0),r.absarc(e-2*o,d,d,0,-Math.PI/2,!0),r}(i,j,h)}),[i,j,h]),w=a.a.useMemo((function(){return{depth:O-2*h,bevelEnabled:!0,bevelSegments:2*m,steps:1,bevelSize:h-d,bevelThickness:h,curveSegments:m}}),[O,h,m]),y=a.a.useRef();return a.a.useLayoutEffect((function(){y.current&&y.current.center()}),[M,w]),Object(b.jsxs)("mesh",Object(u.a)(Object(u.a)({ref:t},R),{},{children:[Object(b.jsx)("extrudeBufferGeometry",{attach:"geometry",ref:y,args:[M,w]}),g]}))})),p=Object(c.forwardRef)((function(e,t){var n=e.name,r=e.position,o=e.yColour,c=e.xColour,a=e.zColour;return Object(b.jsxs)(O,{ref:t,args:[1,1,1],radius:.08,smoothness:5,position:r,userData:{name:n,position:r},children:[Object(b.jsx)("meshBasicMaterial",{color:0}),Object(b.jsx)(v,{axis:"y",inverse:r.x<0,colour:o}),Object(b.jsx)(v,{axis:"x",inverse:r.y<0,colour:c}),Object(b.jsx)(v,{axis:"z",inverse:r.z<0,colour:a})]})})),h={F:{positions:["ULF","URF","DLF","DRF"],axis:new f.Vector3(0,0,1)},B:{positions:["URB","ULB","DRB","DLB"],axis:new f.Vector3(0,0,1)},R:{positions:["URF","URB","DRF","DRB"],axis:new f.Vector3(1,0,0)},L:{positions:["ULB","ULF","DLB","DLF"],axis:new f.Vector3(1,0,0)},U:{positions:["ULB","URB","ULF","URF"],axis:new f.Vector3(0,1,0)},D:{positions:["DLF","DRF","DLB","DRB"],axis:new f.Vector3(0,1,0)}},x=function(e,t,n){var o=t.split("",2),c=Object(r.a)(o,2),a=c[0],i=c[1],s=h[a],u=s.positions,l=s.axis,f="'"===i?1:-1,b="2"===i?2:1,j=e.filter((function(e){return u.includes(e.userData.name)})),v=.05*b*n,d=b*Math.PI/2,O=d;return function(){if(O<=0)return!1;var e=(1.1-Math.pow((2*O-d)/d,2))*v;return O-=e,j.forEach((function(t){t.position.applyAxisAngle(l,e*f),t.rotateOnAxis(l,e*f)})),!0}},m=n(12),g=Object(c.forwardRef)((function(e,t){var n=e.state,a=Object(c.useRef)([]),u=Object(c.useRef)(),l=n.padEnd(24,"W");Object(i.c)((function(){if(u.current){var e=Object(r.a)(u.current,2),t=e[0],n=e[1];t()||(n(),u.current=void 0)}}));var f=function(e){return new Promise((function(t){u.current=[x(a.current,e,1),t]}))},j=function(){a.current.forEach((function(e){e.position.copy(e.userData.position),e.rotation.set(0,0,0)}))};Object(c.useLayoutEffect)(j,[l]),Object(c.useImperativeHandle)(t,(function(){return{reset:j,rotate:f}}));var v=function(e){return Object(s.chunk)(Object(o.a)(e).reduce((function(e,t,n){return e[m.b[n]]=m.a[t],e}),[]),3)}(l);return Object(b.jsx)("group",{ref:t,children:Object.entries(m.c).map((function(e,t){var n=Object(r.a)(e,2),o=n[0],c=n[1],i=Object(r.a)(v[t],3),s=i[0],u=i[1],l=i[2];return Object(b.jsx)(p,{ref:function(e){return a.current[t]=e},name:o,position:c,yColour:s,xColour:u,zColour:l},o)}))})}));t.a=g},42:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),c=n(32),a=n.n(c),i=n(33),s=(n(49),n(7));Promise.all([n.e(3),n.e(4)]).then(n.bind(null,50)).then((function(e){a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(i.a,{solver:e})}),document.getElementById("root"))}))},49:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.72f2fa6a.chunk.js.map