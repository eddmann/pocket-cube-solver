(this["webpackJsonppocket-cube-solver-client"]=this["webpackJsonppocket-cube-solver-client"]||[]).push([[0],{14:function(e,t,n){e.exports={Canvas:"App_Canvas__EMpWk",Actions:"App_Actions__3Fldf",Solution:"App_Solution__3p1us",Move:"App_Move__y6vn9",ActiveMove:"App_ActiveMove__21aOp"}},30:function(e,t,n){"use strict";(function(e){var r=n(9),o=n(11),c=n(5),a=n(15),s=n(31),i=n(35),u=n(36),l=n(37),b=n(14),f=n.n(b),j=n(7),v="WWWWOOOOGGGGRRRRYYYYBBBB";t.a=function(t){var n=t.solver,b=Object(c.useRef)(),p=Object(c.useState)(v),O=Object(r.a)(p,2),d=O[0],h=O[1],m=Object(c.useState)([]),x=Object(r.a)(m,2),R=x[0],g=x[1],M=Object(c.useState)(0),y=Object(r.a)(M,2),w=y[0],B=y[1],P=Object(c.useState)(!0),D=Object(r.a)(P,2),S=D[0],_=D[1];Object(c.useEffect)((function(){if(b.current&&R[w]&&S){var e=Object(r.a)(R[w],3),t=e[0],n=e[2];if("\ud83c\udf89"!==t){var o=!0;return b.current.rotate(t).then((function(){o?(h(n),w+1<R.length&&B(w+1)):b.current.reset()})),function(){o=!1}}}}),[R,w,S]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"Pocket Cube Solver"})}),Object(j.jsx)(i.a,{state:d,onStateChange:h,onRandom:function(){h(n.rand_cube()),g([]),B(0)},onSolve:function(){(function(e,t){try{var n=e.solve_cube(t);return Promise.resolve([].concat(Object(o.a)(n.map((function(r,o){return[r,e.apply_cube_moves(t,n.slice(0,o)),e.apply_cube_moves(t,n.slice(0,o+1))]}))),[["\ud83c\udf89",v,v]]))}catch(r){return Promise.reject(r)}})(n,d).then((function(e){g(e),B(0),_(!0)})).catch((function(t){e.alert(t)}))}}),Object(j.jsxs)(a.a,{className:f.a.Canvas,camera:{position:[4,4,5]},gl:{antialias:!0},children:[Object(j.jsx)(s.a,{}),Object(j.jsx)(l.a,{ref:b,state:d})]}),Object(j.jsx)(u.a,{solution:R,solutionIdx:w,isAutoPlay:S,onMoveSelection:function(e){var t=Object(r.a)(R[e],2)[1];h(t),B(e)},onAutoPlay:_})]})}}).call(this,n(42))},31:function(e,t,n){"use strict";var r=n(5),o=n(15),c=n(34),a=n(7);Object(o.b)({OrbitControls:c.a});t.a=function(){var e=Object(o.d)(),t=e.camera,n=e.gl,c=Object(r.useRef)();return Object(o.c)((function(){var e;return null===(e=c.current)||void 0===e?void 0:e.update()})),Object(a.jsx)("orbitControls",{ref:c,args:[t,n.domElement],enableDamping:!0,dampingFactor:.25,enableZoom:!0,enableKeys:!1,enablePan:!1,minDistance:4,maxDistance:4})}},35:function(e,t,n){"use strict";n(5);var r=n(14),o=n.n(r),c=n(7);t.a=function(e){var t=e.state,n=e.onStateChange,r=e.onRandom,a=e.onSolve;return Object(c.jsxs)("div",{className:o.a.Actions,children:[Object(c.jsx)("input",{size:40,type:"text",value:(t.match(/.{1,4}/g)||[]).join(" "),onChange:function(e){return n(e.target.value.toUpperCase().replace(/[^WOGRYB]/g,""))}}),Object(c.jsx)("button",{onClick:r,children:"Random"}),Object(c.jsx)("button",{onClick:a,children:"Solve"})]})}},36:function(e,t,n){"use strict";var r=n(9),o=(n(5),n(14)),c=n.n(o),a=n(7);t.a=function(e){var t=e.solution,n=e.solutionIdx,o=e.isAutoPlay,s=e.onMoveSelection,i=e.onAutoPlay;return 0===t.length?null:Object(a.jsxs)("div",{className:c.a.Solution,children:[t.map((function(e,t){var o=Object(r.a)(e,1)[0];return Object(a.jsx)("span",{className:n===t?c.a.ActiveMove:c.a.Move,onClick:function(){return s(t)},children:o},t)})),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",onChange:function(){return i(!o)},checked:o}),"Auto Play"]})]})}},37:function(e,t,n){"use strict";var r=n(9),o=n(5),c=n.n(o),a=n(15),s=n(4),i=n(6),u=n(12),l=n(7),b=1e-5,f=function(e){var t=e.width,n=void 0===t?.88:t,r=e.height,a=void 0===r?.88:r,i=e.radius,u=void 0===i?0:i,f=e.type,j=e.inverse,v=e.colour,p=Object(o.useMemo)((function(){return function(e,t,n){var r=new s.Shape,o=n-b;return r.absarc(b,b,b,-Math.PI/2,-Math.PI,!0),r.absarc(b,t-2*o,b,Math.PI,Math.PI/2,!0),r.absarc(e-2*o,t-2*o,b,Math.PI/2,0,!0),r.absarc(e-2*o,b,b,0,-Math.PI/2,!0),r}(n,a,u)}),[n,a,u]),O=0,d=0,h=new s.Vector3(0,0,0);switch(f){case"side":O=(j?-1:1)*(Math.PI/2),h.setX(j?-.5:.5);break;case"top":d=(j?1:-1)*(Math.PI/2),h.setY(j?-.5:.5);break;case"front":O=Math.PI,h.setZ(j?-.5:.5)}var m=Object(o.useRef)(),x=Object(o.useRef)();return c.a.useLayoutEffect((function(){var e,t,n;null===(e=m.current)||void 0===e||e.rotateX(d),null===(t=m.current)||void 0===t||t.rotateY(O),null===(n=x.current)||void 0===n||n.center()}),[O,d]),Object(l.jsxs)("mesh",{ref:m,position:h,children:[Object(l.jsx)("meshBasicMaterial",{color:v,side:s.DoubleSide,polygonOffset:!0,transparent:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-4}),Object(l.jsx)("shapeBufferGeometry",{ref:x,attach:"geometry",args:[p,5]})]})},j=1e-5,v=Object(o.forwardRef)((function(e,t){var n=e.args;n=void 0===n?[]:n;var o=Object(r.a)(n,3),a=o[0],b=void 0===a?1:a,f=o[1],v=void 0===f?1:f,p=o[2],O=void 0===p?1:p,d=e.radius,h=void 0===d?.05:d,m=e.smoothness,x=void 0===m?4:m,R=e.children,g=Object(u.a)(e,["args","radius","smoothness","children"]),M=c.a.useMemo((function(){return function(e,t,n){var r=new s.Shape,o=n-j;return r.absarc(j,j,j,-Math.PI/2,-Math.PI,!0),r.absarc(j,t-2*o,j,Math.PI,Math.PI/2,!0),r.absarc(e-2*o,t-2*o,j,Math.PI/2,0,!0),r.absarc(e-2*o,j,j,0,-Math.PI/2,!0),r}(b,v,h)}),[b,v,h]),y=c.a.useMemo((function(){return{depth:O-2*h,bevelEnabled:!0,bevelSegments:2*x,steps:1,bevelSize:h-j,bevelThickness:h,curveSegments:x}}),[O,h,x]),w=c.a.useRef();return c.a.useLayoutEffect((function(){w.current&&w.current.center()}),[M,y]),Object(l.jsxs)("mesh",Object(i.a)(Object(i.a)({ref:t},g),{},{children:[Object(l.jsx)("extrudeBufferGeometry",{attach:"geometry",ref:w,args:[M,y]}),R]}))})),p=Object(o.forwardRef)((function(e,t){var n=e.name,r=e.position,o=e.sideColour,c=e.topColour,a=e.frontColour;return Object(l.jsxs)(v,{ref:t,args:[1,1,1],radius:.08,smoothness:5,position:r,userData:{name:n,position:r},children:[Object(l.jsx)("meshBasicMaterial",{color:0}),Object(l.jsx)(f,{type:"side",inverse:r.x<0,colour:o}),Object(l.jsx)(f,{type:"top",inverse:r.y<0,colour:c}),Object(l.jsx)(f,{type:"front",inverse:r.z<0,colour:a})]})})),O={F:{positions:["ULF","URF","DLF","DRF"],axis:new s.Vector3(0,0,1)},B:{positions:["URB","ULB","DRB","DLB"],axis:new s.Vector3(0,0,1)},R:{positions:["URF","URB","DRF","DRB"],axis:new s.Vector3(1,0,0)},L:{positions:["ULB","ULF","DLB","DLF"],axis:new s.Vector3(1,0,0)},U:{positions:["ULB","URB","ULF","URF"],axis:new s.Vector3(0,1,0)},D:{positions:["DLF","DRF","DLB","DRB"],axis:new s.Vector3(0,1,0)}},d=function(e,t,n){var o=t.split("",2),c=Object(r.a)(o,2),a=c[0],s=c[1],i=O[a],u=i.positions,l=i.axis,b="'"===s?1:-1,f="2"===s?2:1,j=e.filter((function(e){return u.includes(e.userData.name)})),v=f*Math.PI/2,p=v;return{step:function(){if(p<=0)return!1;var e=.05*f*n,t=(1.1-Math.pow((2*p-v)/v,2))*e;return p-=t,j.forEach((function(e){e.position.applyAxisAngle(l,t*b),e.rotateOnAxis(l,t*b)})),!0}}},h={DLB:new s.Vector3(-.5,-.5,-.5),DLF:new s.Vector3(-.5,-.5,.5),ULB:new s.Vector3(-.5,.5,-.5),ULF:new s.Vector3(-.5,.5,.5),DRB:new s.Vector3(.5,-.5,-.5),DRF:new s.Vector3(.5,-.5,.5),URB:new s.Vector3(.5,.5,-.5),URF:new s.Vector3(.5,.5,.5)},m=[7,19,22,10,6,9,3,0,11,23,17,5,21,18,12,15,4,16,13,1,20,8,2,14],x={W:"white",O:"orange",G:"green",R:"red",Y:"yellow",B:"blue"},R=Object(o.forwardRef)((function(e,t){var n=e.state,c=Object(o.useRef)([]),s=Object(o.useRef)(),i=n.padEnd(24,"W"),u=i.split("").reduce((function(e,t,n){return e[m[n]]=x[t],e}),[]);Object(a.c)((function(){if(s.current){var e=Object(r.a)(s.current,2),t=e[0],n=e[1];t.step()||(n(),s.current=void 0)}}));var b=function(e){return new Promise((function(t){s.current=[d(c.current,e,1),t]}))},f=function(){c.current.forEach((function(e){e.position.copy(e.userData.position),e.rotation.set(0,0,0)}))};return Object(o.useLayoutEffect)(f,[i]),Object(o.useImperativeHandle)(t,(function(){return{reset:f,rotate:b}})),Object(l.jsx)("group",{ref:t,children:Object.entries(h).map((function(e,t){var n=Object(r.a)(e,2),o=n[0],a=n[1],s=3*t,i=u.slice(s,s+3),b=Object(r.a)(i,3),f=b[0],j=b[1],v=b[2];return Object(l.jsx)(p,{ref:function(e){return c.current[t]=e},name:o,position:a,sideColour:f,topColour:j,frontColour:v},o)}))})}));t.a=R},38:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),c=n(29),a=n.n(c),s=n(30),i=(n(47),n(7));n.e(3).then(n.bind(null,48)).then((function(e){a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(s.a,{solver:e})}),document.getElementById("root"))}))},47:function(e,t,n){}},[[38,1,2]]]);
//# sourceMappingURL=main.aba89e41.chunk.js.map